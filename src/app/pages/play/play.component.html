<div class="field">

  <div class="opponent-side">
    <div class="stats">
      <sw-health-bar class="health opponent-health" [health]="opponent.health"
        [maxHealth]="opponent.maxHealth"></sw-health-bar>

      <sw-mana-bar class="opponent-mana" [mana]="opponent.mana" [maxMana]="opponent.maxMana"
        [glowing]="opponentTurn"></sw-mana-bar>
    </div>

    <div class="visuals">
      <div class="opponent">
        <sw-character-sprite [sprite]="opponent.sprite"></sw-character-sprite>
      </div>
    </div>
  </div>

  <div class="play-grid" [style.--play-grid-rows]="gamestate.field[0].length">
    <div class="grid-row" *ngFor="let row of gamestate.field; let index = index"
      [class.secret]="index === 0 || index === gamestate.field.length - 1">
      <div class="grid-space" *ngFor="let col of row; let current = index">
      </div>
    </div>
  </div>

  <div class="player-side">

    <sw-deck class="deck" (click)="drawCard()" (keyup.enter)="drawCard()" tabindex="0" [deck]="player.deck"></sw-deck>

    <div class="hand">
      <div class="hand-card-container">
        <div class="hand-card-position" *ngFor="let card of player.hand; let i = index" [style.--card-index]="i"
          (mouseenter)="focusHandCard(i)" (mouseleave)="unfocusHandCard()">
          <sw-spell-card class="hand-card" [spell]="contentService.getSpell(card.id)!"
            [isSmall]="hoveringSpellIndex !== i"></sw-spell-card>
        </div>
      </div>
    </div>

    <div class="stats">
      <sw-health-bar class="health player-health" [health]="player.health" [maxHealth]="player.maxHealth"
        [showHealth]="true"></sw-health-bar>

      <sw-mana-bar class="player-mana" [mana]="player.mana" [maxMana]="player.maxMana"
        [glowing]="playerTurn"></sw-mana-bar>
    </div>
  </div>
</div>